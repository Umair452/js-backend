
  <!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="styles.css">
    <title>Movie Search Application</title>
  </head>
  <body>
    <div class="wrapper">
        <header class="header">
          <div class="header_logo">Movie</div>
          <div class="header_actions">
            <form onsubmit="handle_form(event)" id="header_form">
              <div class="header_form-icon">
              <input id="input" type="search" class="header_form-input" placeholder="Search, Press Enter to Submit" />
             <img onclick="displayData()" id="searchIcon" class="icon" src="../images/search.svg" alt="">
            </div>
            </form>
            <img id="img_icon" width="32px" height="32px" src="" alt="" >
          </div>
        </header>
        <main id="main">
          <section>
            <article class="movie">
              <div class="movie_img">
                <img id="img_src" src="" alt="" srcset="">
              </div>
              <div class="movie_info">
                <header><h1 class="movie_title"></h1></header>
                <div class="movie_desc"></div>
                <div class="movie_details">
                  <h2 id="title">Details</h2>
                  <ul class="flex">
                    <li>Premiered: <span id="movie_date"></span></li>
                    <li>Rating: <span id="movie_rating"></span></li>
                    <li>Runtime: <span id="movie_runtime"></span></li>
                    <li>Status: <span id="movie_status"></span></li>
                  </ul>
                </div>
                <a href="" class="btn" target="_blank" rel="noopener noreferrer">
              <svg class="icon" width="16px" height="16px"><use href="#icon-play" /></svg>
                  Watch Movie</a>
              </div>
            </article>
            <div class="episodes_list">
              <h3 class="episodes_title"></h3>
            <ol class="episodes" id="episodes"></ol>
          </div>
          </section>
        </main>
      </div>
    
  </body>
  <script>

// const movieData = "http://www.omdbapi.com";
// let xhr = new XMLHttpRequest();
// xhr.open('GET', movieData);
// xhr.send();

// const input = document.querySelector('#input');
// const btn = document.querySelector('#searchIcon');

// let Data = null;

// xhr.onreadystatechange = function () {

//     let fetchedData = null

//     if (xhr.readyState === 4) {
//        fetchedData = JSON.parse(this.responseText);
//        Data = fetchedData
       
//     }
// };


// function displayData (){
//   let source = Data[1].title;
//   let image = document.querySelector('#img_src')
//   let newTitle = document.querySelector('#title')
//   newTitle.textContent = source
  
  
// }


const url = 'https://imdb188.p.rapidapi.com/api/v1/getPopularMovies';
const options = {
    method: 'POST',
    headers: {
        'x-rapidapi-key': 'c1c6367ff1msh2d1b91ac477a91dp1b3c7cjsn5188f8cf00a8',
        'x-rapidapi-host': 'imdb188.p.rapidapi.com',
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({ // Convert the body to a JSON string
        country: {
            anyPrimaryCountries: ['IN']
        },
        limit: 200,
        releaseDate: {
            releaseDateRange: {
                end: '2029-12-31',
                start: '2020-01-01'
            }
        },
        userRatings: {
            aggregateRatingRange: { max: 10, min: 6 },
            ratingsCountRange: { min: 1000 }
        },
        genre: {
            allGenreIds: ['Action']
        },
        runtime: {
            runtimeRangeMinutes: { max: 120, min: 0 }
        }
    })
};

async function fetchPopularMovies() {
    try {
        const response = await fetch(url, options);
        const result = await response.text(); // or use response.json() if the response is in JSON format
        console.log(result);
    } catch (error) {
        console.error('Error fetching popular movies:', error);
    }
}

// Call the function to fetch the data
fetchPopularMovies();



  </script>
  </html>